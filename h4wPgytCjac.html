<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="en-us" />
<meta name="version" content="5487"/>
<style>body {font-family:Helvetica}ul.comment{list-style-image:url('https://hackpad.com/static/img/comment.png');} ul.task{list-style-image:url('https://hackpad.com/static/img/unchecked.png');}ul.taskdone{list-style-image:url('https://hackpad.com/static/img/checked.png');} </style><title>/683$h4wPgytCjac</title>
</head>
<body><h1>學運現場無網路的通訊解決APP方案</h1><ul><li><b>發起人/拋磚人：Lrills</b></li>
<li><b>狀態： </b>集結各路好漢</li>
<li><b>專案簡介：</b></li><ul style="list-style: none;"><li>學運現場的無網路解決app方案</li><ul class="comment"><li>參考「<b>在會場中建立可靠的訊息傳遞網」</b> <a href="https://g0v.hackpad.com/d6rh3bXemcK"></a>https://g0v.hackpad.com/d6rh3bXemcK 兩案坑主可協作討論</li>
<li><br/></li></ul>
</ul>
</ul>
<ul><li><b>工作目標：</b></li><ul style="list-style: none;"><li>短期可能目標：快速開發提供反服貿運動使用</li></ul>
<ul class="comment"><li>要offline地傳送事件訊息、GPS經緯度、案發現場圖片到一server端</li></ul>
<ul style="list-style: none;"><li>長期可能目標：創造一個開放源碼的無網路通訊協定</li></ul>
</ul>
<ul><li><b>授權方式：</b></li>
<li><b>使用資料：</b></li>
<li><b>徵求夥伴（有興趣直接簽名）：</b></li>
<li><b>NeedsWriter (撰寫基本資訊、報導專案 etc)：</b></li>
<li><b>NeedsDesigner (介面設計)：</b></li>
<li><b>NeedsData (擷取整理資料)：</b></li>
<li><b>NeedsTech (程式、架站 etc)：</b></li>
<li><b>NeedsProcess (設計作業流程)：</b></li>
<li><b>NeedsTalkingToRealPerson (需要真人溝通協調)：</b></li></ul>

<p>-----------------------------------------------------------------------------------------</p><p></p><p><a href="http://www.ptt.cc/bbs/FuMouDiscuss/M.1396630334.A.53A.html"></a>http://www.ptt.cc/bbs/FuMouDiscuss/M.1396630334.A.53A.html</p><p>ptt發想連結</p><p></p><p>--</p><p></p><p>目前想到的p2p流程圖如下，有要更正請幫忙指出：</p><p>A:案發現場人士、Z:3/4G對外使用者(一般是現場糾察)</p><p>節點間通訊用WiFi-D或BT</p><ul class="comment"><li>查資料時剛好看到這篇，裡面有提到幾個問題，雖然我都還沒查證但先提出來給大家參考：</li>
<li>1. wifi direct似乎有些4.x以上的機型硬體不支援&nbsp;</li>
<li>2.BT耗電，且最多與7個peer連線&nbsp;</li>
<li>3.BT-LE較不耗電但android 4.3以上才支援</li>
<li><a href="http://stackoverflow.com/questions/19439142/wifi-direct-bluetooth-or-internet-for-discovering-people-in-the-surrounding"></a><a href='http://stackoverflow.com/questions/19439142/wifi-direct-bluetooth-or-internet-for-discovering-people-in-the-surrounding'/>http://stackoverflow.com/questions/19439142/wifi-direct-bluetooth-or-internet-for-discovering-people-in-the-surrounding</a></li></ul>
<p>為了時間上要加速實現，目前簡單用一個節點通報兩個節點，若遇到重複就pass掉重連</p><p></p><p>A---通報--&gt; B---通報----&gt;D&nbsp;&nbsp; 以此類推， 直到傳到Z 去連結server回報訊息&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; B也通報&nbsp;&nbsp; --&gt;E</p><p>&nbsp;&nbsp;&nbsp; A也通報-&gt;C-通報--&gt;F</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C也通報--&gt;G</p><p></p><p><img src='https://hackpad-attachments.s3.amazonaws.com/hackpad.com_h4wPgytCjac_p.144203_1396836272432_rect3166.png'/></p><ul class="comment"><li>是這個意思嗎?但是z要回報給server什麼呢?</li>
<li>ps. 剛好看到這兩篇文章《資訊人眼裡的太陽花》，貼給大家看看</li>
<li>&nbsp;<a href="http://www.cool3c.com/article/78110"></a><a href='/ipD7e8Cvwpd#http://www.cool3c.com/article/78110'/>http://www.cool3c.com/article/78110</a></li>
<li><a href="http://www.cool3c.com/article/78231"></a><a href='http://www.cool3c.com/article/78231'/>http://www.cool3c.com/article/78231</a></li>
<li><br/></li></ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p>--</p><ul class="comment"><li>你要不要先把PTT原文網址貼出來?</li>
<li>好XD</li>
<li><a href="http://www.ptt.cc/bbs/FuMouDiscuss/M.1396630334.A.53A.html"></a><a href='http://www.ptt.cc/bbs/FuMouDiscuss/M.1396630334.A.53A.html'/>http://www.ptt.cc/bbs/FuMouDiscuss/M.1396630334.A.53A.html</a></li>
<li>ptt發想連結</li></ul>

<ul class="comment"><li>其實有個很基礎的問題，就是你做成APP的話，沒有SERVER，要是在網路連線困難的情況下， 大家一開始還是沒有辦法下載XD</li>
<li>所以可能要另外做出「任何人只要有裝APP 就可以成為第0台SERVER，雖然沒有企業CERT，但是最起碼可以提供APK給ANDROID USER下載安裝連上....」</li></ul>

<ul class="comment"><li>對 大概想法是這樣但是沒有相關通訊軟體的經驗沒什麼頭緒...但是web app沒辦法控制到裝置上的藍芽...</li>
<li>是的!! 希望能解決330那種狀況</li></ul>

<ul class="comment"><li>你一樣是native app啊 ...</li>
<li>要快速做出來的話可以考慮直接寫HTTP SERVER + 跑在 WEB SERVER上的 APP&nbsp;</li>
<li>不過因為現在立法院外面網路順暢 甚至有 g0v 的免費 WIFI AP.....</li>
<li>所以回過頭來 這個project是不是定義成 &quot;無網路環境下的區域通訊解決方案(含LOG)&quot; ?</li>
<li>其實我記得 g0v 有個很類似的坑..... 但是要找找看</li>
<li>在這裡-&gt; <a href="https://g0v.hackpad.com/d6rh3bXemcK"></a><a href='https://g0v.hackpad.com/d6rh3bXemcK'/>https://g0v.hackpad.com/d6rh3bXemcK</a></li></ul>

<ul class="comment"><li>我個人認為這個APP最需要的權限是 強迫關閉手機 3g 連線XD</li>
<li>然後自動挑幾隻當樹最上面的 node ，用 3g 連出去</li>
<li>就跟直銷一樣...... 一路往下擴散傳資料</li>
<li>每層 node 之間 sync 而不是p2p在 sync</li>
<li>因為你要解決的是 330 那種 10k級的人數&nbsp;</li></ul>

<ul class="comment"><li>會希望有頻道的功能分流，每個node建立起一個識別資訊，識別所屬的頻道</li>
<li>所以是把群眾分流程幾個區塊，各用一個節點連上server這樣嗎?</li></ul>

<ul class="comment"><li>如果如果是iOS的話可以做到給每個裝置一個識別資訊，搜尋附近所有的頻道。</li></ul>

<ul class="comment"><li>恩一開始想的是透過每個peer發布出去的時候可以自帶一個peer的info(4KB以內的dictionary)，從這裡來作識別，如果要提供列表資訊的話會變成一定要連上internet嗎?</li></ul>

<ul class="comment"><li>不是一定要連上 internet&nbsp;</li>
<li>是在 user 推廣觀點.....</li>
<li>今天一個 new user 進入你的場域</li>
<li>有裝這個 APP 的人當然不用說 他們知道要開</li>
<li>那沒裝的人呢?</li>
<li>所以你↓↓看下面</li></ul>

<ul class="comment"><li>這個其實你不配個在 internet 上的統一入口</li>
<li>是沒辦法把 user 導進你的 intranet 或是 darknet 的</li>
<li>但是總而言之 無論 user 是在 intranet 還是 darknet&nbsp;</li>
<li>進來之後就是給他頻道列表讓他選 他再直接連上 primary node</li></ul>

<ul class="comment"><li>坦白來說 如果沒有 g0v&nbsp;</li>
<li>這種遊行現場的網路解決方案</li>
<li>如果我要玩 那就是幾組 wimax+wifi ap，但是停留在 intranet 上</li>
<li>讓user全部都連上我的 ssid 進我的 intranet</li>
<li>然後我用幾台 android 機器跑 httpd server.....&nbsp;</li>
<li>一切都是 web app 這樣XD</li>
<li>你要實作 open garden (firechat...)當然沒有問題啊</li>
<li>問題是官方也才剛實做完XD</li></ul>

<ul class="comment"><li>好像真的是比較實際的做法...我沉澱一下下XD</li></ul>

<ul class="comment"><li>也不是沒人再ios作http server唷 應該超多XD</li>
<li>因為我看我每隻 player 跟 pdf reader 都有內建上傳檔案進APP用的http server 啊</li></ul>

<ul class="comment"><li>綜合另外一篇看了一下稍微懂了一點...</li>
<li>所以綜合一下可能的方案會是1.intranet 2.由可連線的node推播(如另一坑方案) 3.firechat方案&nbsp;</li>
<li><br/></li></ul>

<p></p><p>可行方案優缺點分析：</p><p><b>1.intranet</b></p><ul style="list-style: none;"><li>優：</li><ul><li>可快速由現有資源搭建或者修改，甚至不用上架到兩個 store<ul><li>活動現場支援用backpack ，真的包成一個背包出團，例如: Server pack: wimax + wifi ap + nb + nb用行動電源 + webcam</li>
<li>Live pack: wimax + 行動電源 + iPad</li></ul>
</li>
<li>g0v線路松支援後，可以直接從 intranet 變成 internet<b><i> (*1)</i></b></li></ul>
</ul>
<ul style="list-style: none;"><li>缺：&nbsp;</li><ul><li>主辦單位或有心路人需在活動前準備好 Server pack 帶過去現場</li>
<li>每個 server pack 的 session 數被 ap 限制</li>
<li>因為是 s/c 架構，所以 server 的負載度需要考慮一下 ( node.js / backbone.js ....)</li></ul>
</ul>
<p><b>2.由可連線的node與雲端相連</b></p><ul style="list-style: none;"><li>優：</li><ul><li>節省 3g 資源</li>
<li>不論地點平台都能加入</li></ul>
</ul>
<ul style="list-style: none;"><li>缺：</li><ul><li>需有前幾個 node (或者主辦單位都會裝的話那倒是不用煩惱)</li>
<li>3g收訊死角造成盲區</li>
<li>群首整組消失時? 例如整群人被水柱噴濕 offline</li></ul>
</ul>
<p><b>3.firechat(*2)</b></p><ul style="list-style: none;"><li>優：</li><ul><li>去中心化</li>
<li>不論時地都可使用</li>
<li>只要中間有node串接，理論上支援範圍無限大</li></ul>
</ul>
<ul style="list-style: none;"><li>缺：</li><ul><li>須先下載APP&nbsp;</li>
<li>聽說目前版本iOS和Android不互通? (查證中...)<b><i>(*3)</i></b></li>
<li>p2p同步較無效率，可能無法負荷如330遊行10k up人數<b><i>(*4)</i></b></li></ul>
</ul>
<p>*1</p><ul class="comment"><li>WiMAX hotspot 或WiFi AP support連線user數也會受限</li>
<li>如果把 wifi ap 的天線拔掉似乎可以透過距離縮短來減少使用人數? (誤</li>
<li>可是不巧全球一動大力玩是內建天線(毆</li>
<li>一般WiFi AP都可以簡單調整發射功率，看看大力玩是否也可調整WiFi的發射功率。如果不行，只好拿鐵便當盒蓋住XD&nbsp;</li>
<li>WiMAX 確定要淘汰了，未來 device 已經頃向 LTE</li>
<li>FD-LTE系統中華電信會較先設立，目前已經cell plan中。至於WiMAX就看會不會就地升級成TD-LTE，不過device是絕對不相容的XD。但dervice都會弄成大力玩型態(誰叫WiFi普及率這麼高)，所以對APP設計(若是經WiFi-4G系統連上網)基本上影響不大</li></ul>
<p>*2</p><ul class="comment"><li>從另外一篇文章看到有qaul.net跟Telegram都有同樣類似的效果，也可以download到手機試試看，我先借幾個Android手機來試試看這三個APP的實用性</li></ul>
<p>*3</p><ul class="comment"><li><i>ref: </i><a href="http://stackoverflow.com/questions/18884705/transfer-data-between-ios-and-android-via-bluetooth"></a><i><a href='http://stackoverflow.com/questions/18884705/transfer-data-between-ios-and-android-via-bluetooth'/>http://stackoverflow.com/questions/18884705/transfer-data-between-ios-and-android-via-bluetooth</a></i><i>&nbsp;&nbsp;</i></li>
<li>可能解法 1.android透過wifi監聽iOS device發布的bonjour服務(理論可行，但找不到實作的例子) 2.BLE (但android端有bug待解決)</li>
<li>剛請朋友測過Firechat的iOS跟Android連通，互相找不到dervice。所以可以由iOS一個大group，Android一個大group往下去sync資訊，只要iOS跟Android兩個節點的資訊同步即可!?&nbsp;&nbsp; android也有firechat</li>
<li>android是用什麼跟ios的firechat測的阿? 哦哦?上次我沒找到的說。我現在看到了</li></ul>

<p>*4</p><ul class="comment"><li>其實應該說 10K up 到底 p2p sync 要花多久...</li>
<li>如果10層內可以傳完所有node應該是很快的，但是無法徹底解決對同一node重複播送的問題</li>
<li><br/></li>
<li>我想問節點間的傳輸是always連線嗎?用bluetooth或WiFi?對外看起來可用WiFi或3/4G。Open garden提到用Bluetooth跟WiFi-Direct(Android4.x以上支援，這門檻會過高嗎?==&gt;ok)，當然可以用Bluetooth連線。WiFi點對點我們有測過，大約戶外30公尺算極限了，bluetooth理論上會更短，不過傳message bluetooth應該絕對夠用。</li>
<li>ios multipeer的話是apple已經幫包裝好搜尋所有wifi or bluetooth下的peer&nbsp;</li>
<li>Android 4.x market share 已經過半，理論上市場接受度是可行的 <a href="http://developer.android.com/about/dashboards/index.html?utm_source=ausdroid.net"></a><a href='http://developer.android.com/about/dashboards/index.html?utm_source=ausdroid.net'/>http://developer.android.com/about/dashboards/index.html?utm_source=ausdroid.net</a></li>
<li>另外，節點間的 http 持續連線方式是不可行的，keep connection alive 會占用 device 資源，當量一大就會 crash，除非能確保 one-to-one</li>
<li>想了解一下，wifi或bluetooth有辦法判斷距離嗎?例如訊號要多高才進行連線和資料傳輸，以這種方式篩選附近的人數</li>
<li>android 有 getScanResult( )，ScanResult 裡面有個值叫level可以得知wifi訊號強度(單位dBm)</li>
<li><a href="http://developer.android.com/reference/android/net/wifi/WifiManager.html#getScanResults%28%29"></a>http://developer.android.com/reference/android/net/wifi/WifiManager.html#getScanResults%28%29</li>
<li>藍牙的似乎有個RSSI值是強度(單位dBm)</li>
<li><a href="http://stackoverflow.com/questions/15312858/get-bluetooth-signal-strength"></a>http://stackoverflow.com/questions/15312858/get-bluetooth-signal-strength</li>
<li>想問一下在場對於開發進度的想法！要討論出一個雛型直接進行開發，或是先整理的完善一點，在4/19號的hackthon現場開發！？</li></ul>

<p></p><p></p><p>小俞：報名UI設計！</p><p>歡迎 感謝Q口Q</p><p><img src='https://hackpad-attachments.s3.amazonaws.com/hackpad.com_h4wPgytCjac_p.143126_1396711214438_網路屏蔽通訊器test01-01.jpg'/></p><ul class="comment"><li>改成緊急事件回報 用途比較廣XD&nbsp;&nbsp;&nbsp;</li></ul>
<p><img src='https://hackpad-attachments.s3.amazonaws.com/hackpad.com_h4wPgytCjac_p.138515_1396712829267_123.jpg'/></p><p></p><p></p><ul class="comment"><li><br/></li></ul>

<p>小俞：剛剛快速作了一些東西，有任何建議直接寫上來吧，其實因為現在flow還沒出來所以都亂做XDD（對了，名稱是亂取的）準備出門去守夜了掰！</p><ul class="comment"><li>現場有網路XD&nbsp;</li>
<li>我都收不到耶？是g0v的嗎？</li>
<li>青島東路的話 小七附近應該有 濟南的話應該很多隻啊我記得 (不過我只有用過g0v內部用的 沒用過開放給大家用的版本orz) 濟南路叫做 g0v-public 的樣子 開wifi搜尋一下</li>
<li>那邊感覺完全被屏蔽啊QQ 中華電信工會你們不是要出來反對了嗎？快開個訊號車來嘛～</li>
<li>人太多 3g 沒訊號正常啦 而且我還真的沒看到中華的車耶 遠傳跟台哥大很多台XD</li>
<li>我有看過一次神奇的車子，有拍到，照片再此：<a href="https://flic.kr/p/mrS8L5"></a>https://flic.kr/p/mrS8L5</li>
<li>但其實不知道幹嘛用的就是了....感覺是私用（？）</li>
<li>那是小台基地台XD&nbsp; 用吉普車是方便颱風啊什麼時候進山裡面用的.... 那台車可以游泳的~~~</li>
<li>已感動QQ&nbsp;&nbsp;</li>
<li>clement是ptt的sibaseman大嗎?&nbsp; yes<ul class="comment"><li>謝謝你！需要高手qq</li>
<li>安安各位，結果3G網路可以通w</li></ul class="comment">
</li>
<li>那是否需要把醫療事件獨立出來？</li>
<li>我覺得小俞 + MOSI W 的圖給出了一個開發方向，Firechat 提供了無差別發言平台，但無法針對某項訊息進行回應</li>
<li>可以就 bbs 或論壇的形式製作，例如：</li>
<li>1 . 依 GPS 標出事件地點</li>
<li>2. 事件狀態粗分『待處理』『處理中』『處理中，待增援』『已解決』等等</li>
<li>3. 一個事件底下包含內容、時間(系統產生)、地點(系統產生)、回應(依距離分出其可信度和有效性，也可用來做排序)</li>
<li>4. 事件的產生和回應，可以用通用選項方式，加速回應速度，畢竟手持 device 的輸入速度仍舊快不過點選方式</li>
<li>是否結合Google地圖？</li>
<li>以上面的想法 Google Maps 是一定要的，但也需要提供依距離、狀態可進行排序、分類的列表(for offline device)</li>
<li>誰來判事件狀態的處理進度？</li>
<li>最簡單的方式當然是由事件發起人決斷，但如果遇到事件發起人被載去野放，可由現場人員發出最新狀態，但須列出該狀態發出筆數，每人限發一種狀態，並會取代同一事件同一人前一次狀態</li>
<li>例如：[待處理]小七前有人昏倒，此事件因為發起人被野放無法即時更新狀態，現場人員即可發出狀態『[待處理(主)][處理中(3)][處理中，待增援(10)][已解決(0)]小七前有人昏倒』，從狀態中可看出大部分人認為仍須處理並增援</li>
<li>現場人員的定義同樣可用距離決定</li>
<li>所以可能可以用人數來判斷事件可信度(處理度)，然後顯示出來高中低這樣。</li>
<li>是否需要一個server去蒐集這些information(如GPS定位點與統計人數等等)後統整？&nbsp; 另外事件選項也是盡量簡化，如醫療、警備、衝突(攻擊行為)、社會安全或其他等等</li>
<li>server 端要做的幾件事：</li>
<li>1. 開發 API 供 APP 在進入網路環境中進行資料交換</li>
<li>2. 能承受大量資料存取的儲存架構</li>
<li>3. 資料統計與呈現頁面(<b>討論是否需要管理介面，由誰管理?</b></li>
<li>我想到bitcoin的網路架構，而且bitcoin中的區塊鏈不用全都儲存。</li>
<li>如果能解決資料龐大的問題，我也投 bitcoin 的網路架構一票</li></ul>

<p><img src='https://hackpad-attachments.s3.amazonaws.com/hackpad.com_h4wPgytCjac_p.143126_1396765253855_網路屏蔽通訊器test02.jpg'/></p><p></p><p>再丟個圖給大家討論發想！！</p><ul class="comment"><li>建議，將鴿子動態改成政府單位動態，應用範圍會較廣，因為你不能保證不會動用軍方武力(大誤</li>
<li>可以談談訊號偵測的用意嗎？</li>
<li>看看適不適合，可以加 profile settings 在搜尋戰友時可以依技能、種族...喔不，是職業分類</li>
<li>訊號偵測是因為前一張圖有出現「目前頻道」與「連接節點」，我想也許可以用上</li>
<li>而關於使用者，是否要用到這麼個人化？我以為只是會給一個隨機固定的UID(?)就可以開始使用了，這樣也能避免被國安單位監控。</li>
<li>呃，新的圖怎麼又不見了= =</li>
<li>profile settings 只是要讓個人的專長職業有地方填寫而已，當然，這東西有沒有必要就和大家討論一下囉</li></ul>
<p><img src='https://hackpad-attachments.s3.amazonaws.com/hackpad.com_h4wPgytCjac_p.143126_1396829456929_網路屏蔽通訊器test03.jpg'/></p><p>如果是這樣呢？</p><p></p><ul class="comment"><li>話說，雖然主戰場準備撤退，但按照大夥對「執政當局」的理解，這個APP總有一天會派上用場的，所以我個人建議把他做完。</li>
<li>:emoji_1f44d:&nbsp;</li></ul>

<p></p></body>
</html>
