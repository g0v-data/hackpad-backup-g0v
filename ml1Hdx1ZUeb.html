<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="en-us" />
<meta name="version" content="1870"/>
<style>body {font-family:Helvetica}ul.comment{list-style-image:url('https://hackpad.com/static/img/comment.png');} ul.task{list-style-image:url('https://hackpad.com/static/img/unchecked.png');}ul.taskdone{list-style-image:url('https://hackpad.com/static/img/checked.png');} </style><title>/683$ml1Hdx1ZUeb</title>
</head>
<body><h1>避難收容所資訊平台</h1><p></p><p></p><p><b>Git Respository List</b></p><ul><li><a href='https://github.com/jsgao0/Evacuation'/>WEB</a></li>
<li><a href='https://github.com/jsgao0/EvacuationRESTful'/>RESTful</a></li></ul>

<p><b>最新</b></p><p>避難資訊 <a href="https://evacuation-web.herokuapp.com/"></a>https://evacuation-web.herokuapp.com/</p><p></p><p><img src='https://hackpad-attachments.s3.amazonaws.com/g0v.hackpad.com_ml1Hdx1ZUeb_p.621706_1463408682792_螢幕快照 2016-05-16 下午10.24.24.png'/></p><p></p><p></p><p><b>TODO [JSON Data]</b></p><ul class="taskdone"><li><a href='https://evacuation-web.herokuapp.com/data/villageList.json'/>村里列表</a></li>
<li><a href='https://evacuation-web.herokuapp.com/data/villageHead.json'/>村里長列表</a>&nbsp;</li>
<li><a href='https://evacuation-web.herokuapp.com/data/villagePopulation.json'/>村里人口列表</a></li>
<li><a href='https://evacuation-web.herokuapp.com/data/villageFitShelterList.json'/>村里預設避難收容所列表</a></li></ul>
<ul class="task"><li>消防單位列表</li>
<li>災害應變中心列表</li>
<li>警察單位列表</li></ul>

<p><b>TODO [資料匯入]</b></p><ul class="taskdone"><li>匯入村里列表 [7855]</li>
<li>匯入<a href='http://data.moi.gov.tw/MoiOD/Data/DataDetail.aspx?oid=F4478CE5-7A72-4B14-B91A-F4701758328F'/>人口資料</a>&nbsp; [7074]</li>
<li>匯入<a href='http://data.gov.tw/node/12849'/>避難收容所開設情形開放資料</a> [7365]</li>
<li>匯入<a href='http://data.gov.tw/node/7061'/>村里長資料</a>&nbsp; [7243]</li></ul>
<ul class="task"><li>匯入<a href='http://data.gov.tw/node/5969'/>各地區消防單位及災害應變中心資料</a> TBC: 消防分隊管轄範圍確認、區域災害應變中心</li>
<li>匯入<a href='https:// http://data.gov.tw/node/5958'/>各地區警察單位資料</a> TBC: 警察單位管轄範圍確認</li></ul>

<p><b>TODO [OTHERS]</b></p><ul class="task"><li>比較消防及警察單位與<a href='http://data.gov.tw/node/gov/resource/2853'/>為民服務通訊錄</a>之差異。</li>
<li>疏散路線計算，<a href='http://www.movable-type.co.uk/scripts/latlong.html'/>距離</a>、是否開設。</li>
<li>顯示不合格(收容所容納人數低於該里總人口數)的村里。</li></ul>

<p><b>API List</b></p><p>目前已經藉由clkao的townlist資料，完成部分API：</p><ol><li>Get county list: <a href="https://evacuation.herokuapp.com/counties"></a><a href='https://evacuation.herokuapp.com/counties'/>https://evacuation.herokuapp.com/counties</a> [GET Method]</li>
<li>Get town list by county id: <a href="https://evacuation.herokuapp.com/countyID/towns"></a><a href='https://evacuation.herokuapp.com/countyID/towns'/>https://evacuation.herokuapp.com/countyID/towns</a> [GET Method]</li>
<li>Get village list by town id: <a href="https://evacuation.herokuapp.com/townID/villages"></a>https://evacuation.herokuapp.com/<a href='https://evacuation.herokuapp.com/10020020/villages'/>t</a>o<a href='https://evacuation.herokuapp.com/to/villages'/>w</a>n<a href='https://evacuation.herokuapp.com/town/villages'/>I</a>D/villages [GET Method]</li>
<li>Get sanctuary list by town id and village id: <a href="https://evacuation.herokuapp.com/townID/villageID/sanctuaries"></a>https://evacuation.herokuapp.com/<a href='https://evacuation.herokuapp.com/10020020/066/sanctuaries'/>t</a>o<a href='https://evacuation.herokuapp.com/to/066/sanctuaries'/>w</a>n<a href='https://evacuation.herokuapp.com/town/066/sanctuaries'/>I</a>D/<a href='https://evacuation.herokuapp.com/townID/066/sanctuaries'/>v</a>i<a href='https://evacuation.herokuapp.com/townID/vi/sanctuaries'/>l</a>l<a href='https://evacuation.herokuapp.com/townID/vill/sanctuaries'/>a</a>g<a href='https://evacuation.herokuapp.com/townID/villag/sanctuaries'/>e</a>I<a href='https://evacuation.herokuapp.com/townID/villageI/sanctuaries'/>D</a>/sanctuaries [GET Method]</li>
<li>Update sanctuary list by town id and village id: <a href="https://evacuation.herokuapp.com/townID/villageID/sanctuaries"></a>http<a href='https://evacuation.herokuapp.com/10020020/066/sanctuaries'/>s://evacuation.herokuapp.com/</a><a href='https://evacuation.herokuapp.com/townID/villageID/sanctuaries'/>townID/villageID</a>/sanctuaries [PUT Method]</li></ol>

<p><b>WHY?</b></p><p>&nbsp;&nbsp;&nbsp; 昨天(summit 2016第一天)才知道KNY介紹的<a href='http://kny.cc/post/140009881874/kny-app-taiwan-weather-eew-earthquake-early-warning'/>強震即時警報APP</a>。同時，KNY也提到了消防署其實早就有製作好各縣市各鄉里的疏散避難地圖的<a href='http://www.nfa.gov.tw/main/ftplist.aspx'/>疏散指南</a>。 如果能夠將疏散避難地圖做成一個傳送地理資訊並回傳即時的疏散方向及路線，就可以結合其它的警報APP，盡可能的降低傷亡。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;</p><p><b>HOW?</b></p><p></p><ul style="list-style: none;"><li><b>第一階段</b></li>
<li>資料處理：<ul style="list-style: none;"><li>將消防署的各縣市各鄉里的<a href='http://www.nfa.gov.tw/main/ftplist.aspx'/>避難地圖</a>轉成JSON。</li><ul><li>避難所資訊（除地圖內資訊，尚需地理位置「經緯度」） [行政區已完成]</li>
<li>所屬之災害通報單位 [需大家跳坑ＸＤ]</li></ul>
</ul>
</ul>
<ul style="list-style: none;"><li>API：<ul style="list-style: none;"><li>傳送參數：<ul style="list-style: none;"><li>地理資訊（參考Google Maps Geocoding API的object format）// TODO</li></ul>
</ul>
</ul>
<ul class="code"><li>&quot;geometry&quot;: {</li>
<li>&nbsp; &quot;location&quot;: { // User當前的位置</li>
<li>&nbsp;&nbsp;&nbsp; &quot;lat&quot; : 37.4224764,</li>
<li>&nbsp;&nbsp;&nbsp; &quot;lng&quot; : -122.0842499</li>
<li>&nbsp; },</li>
<li>&nbsp; &quot;viewport&quot;: { // 可以作為搜尋避難所的範圍？</li>
<li>&nbsp;&nbsp;&nbsp; &quot;northeast&quot;: {</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;lat&quot;: 37.4238253802915,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;lng&quot;: -122.0829009197085</li>
<li>&nbsp;&nbsp;&nbsp; },</li>
<li>&nbsp;&nbsp;&nbsp; &quot;southwest&quot;: {</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;lat&quot; : 37.4211274197085,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;lng&quot; : -122.0855988802915</li>
<li>&nbsp;&nbsp;&nbsp; }</li>
<li>&nbsp; }</li>
<li>}</li><ul style="list-style: none;"><li>&nbsp;&nbsp;&nbsp;&nbsp;<ul style="list-style: none;"><li>災民資訊（身高，體重；用來分配避難所用來分配避難所） // TODO</li></ul>
</ul>
</ul>
<ul class="code"><li>&quot;victims&quot;: [</li>
<li>&nbsp; {</li>
<li>&nbsp;&nbsp;&nbsp; &quot;height&quot;: 170,</li>
<li>&nbsp;&nbsp;&nbsp; &quot;width&quot;: 50</li>
<li>&nbsp; }</li>
<li>]&nbsp;&nbsp;&nbsp;&nbsp;</li></ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;</p><ul style="list-style: none;"><li>&nbsp;&nbsp;&nbsp; 回傳參數：<ul style="list-style: none;"><li>疏散路線 // TBD，或許可參考Google Map 的<a href='https://developers.google.com/maps/documentation/javascript/kmllayer'/>KML</a>&nbsp; // TODO</li></ul>
</ul>
<ul class="code"><li>&quot;evacuatedDirection&quot;: {</li>
<li>&nbsp; &quot;sanctuaries&quot;: [</li>
<li>&nbsp;&nbsp;&nbsp; {</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;坪林國中&quot;,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;accommodation&quot;: 500,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;address&quot;: &quot;坪林里國中路4號&quot;,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;phoneNumber&quot;: &quot;2665-6210#14&quot;</li>
<li>&nbsp;&nbsp;&nbsp; }</li>
<li>&nbsp; ]</li>
<li>}</li></ul>

<ul style="list-style: none;"><li>災害通報單位</li></ul>
<ul class="code"><li>[</li>
<li>&nbsp;&nbsp;&nbsp; {</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;location&quot;: {</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;county&quot;: &quot;新北市&quot;,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;town&quot;: &quot;坪林區&quot;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;responseCenter&quot;: {</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;坪林區災害應變中心&quot;,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;phoneNumber&quot;: &quot;02-2665-7251&quot;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;villageHead&quot;: {</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;里長&quot;,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;phoneNumber&quot;: &quot;02-2665-7070&quot;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;policeStation&quot;: {</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;坪林分駐所&quot;,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;phoneNumber&quot;: &quot;02-2665-6281&quot;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;fireBrigade&quot;: {</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;坪林消防分隊&quot;,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;phoneNumber&quot;: &quot;02-2665-6119&quot;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;evacuatedDirection&quot;: {</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;sanctuaries&quot;: [</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;坪林國中&quot;,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;accommodation&quot;: 500,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;address&quot;: &quot;坪林里國中路4號&quot;,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;phoneNumber&quot;: &quot;2665-6210#14&quot;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;坪林國小&quot;,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;accommodation&quot;: 500,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;address&quot;: &quot;坪林里坪林街114號&quot;,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;phoneNumber&quot;: &quot;2665-6213*45&quot;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</li>
<li>&nbsp;&nbsp;&nbsp; }</li>
<li>]</li></ul>

<ul style="list-style: none;"><li><b>第二階段</b></li></ul>
<p>加上Google KML的API，把避難所的住址轉成經緯度；最後再結合KNY的地震推播，告知使用者疏散路線。</p><p></p></body>
</html>
