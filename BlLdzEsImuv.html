<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="en-us" />
<meta name="version" content="943"/>
<style>body {font-family:Helvetica}ul.comment{list-style-image:url('https://hackpad.com/static/img/comment.png');} ul.task{list-style-image:url('https://hackpad.com/static/img/unchecked.png');}ul.taskdone{list-style-image:url('https://hackpad.com/static/img/checked.png');} </style><title>/683$BlLdzEsImuv</title>
</head>
<body><h1>jrf_data</h1><p>本頁請關掉 Privacy Badger 不然附圖會看不到哦！</p><p>沒聽過 Privacy Badger 的話，推薦參考 <a href="https://chrome.google.com/webstore/detail/privacy-badger/pkehgijcmpdhfbdbbnkijodmdjhbjlgp?hl=zh-TW"></a>https://chrome.google.com/webstore/detail/privacy-badger/pkehgijcmpdhfbdbbnkijodmdjhbjlgp?hl=zh-TW 這是 EFF 推出的增加瀏覽隱私的套件，歡迎使用！</p><p></p><h2>工作表</h2><p>請先填寫本表，再開始爬資料，謝謝！</p><p></p><table style="font-size:13px;cell-spacing: 0px; border-collapse: collapse;"><tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">&#24180;&#24230;</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">&#20154;</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">&#36914;&#24230;</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">&#29992;&#30340;&#31243;&#24335;</td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2015</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">&#38632;&#33980;</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2014</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">&#38632;&#33980;</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2013</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">&#38632;&#33980;</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2012</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">&#38632;&#33980;</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2011</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">kiang</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">10%</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">kiang&#29256;</td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2010</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">miaoski</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">10%</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">&#38632;&#33980;&#29256;</td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2009</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">miaoski</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">&#38632;&#33980;&#29256;</td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2008</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">miaoski</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">kiang&#29256;</td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2007</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">kiang</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">kiang&#29256;</td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2006</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2005</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2004</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2003</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2002</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2001</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">2000</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">1999</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">1998</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">1997</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">1996</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
</table>
<p></p><h2>Tor Client</h2><p>由於 DigitalOcean 不反對使用 Tor, 我們可以參考 <a href="https://gist.github.com/pdp7/138768f9279740096fe8"></a>https://gist.github.com/pdp7/138768f9279740096fe8 的做法，先架設 Tor Service 。以下是 step-by-step 照著做就可以了。</p><ol><li>先申請 Digital Ocean 帳號。</li>
<li>Create Droplet<img src='https://hackpad-attachments.s3.amazonaws.com/g0v.hackpad.com_BlLdzEsImuv_p.67260_1452231571838_undefined'/></li>
<li>Distribution : Ubuntu 14.04.3 x64 預設的</li>
<li>Size :&nbsp; $10/mo 預設的 ← 表示你用滿一個月的話，要付 US$10</li>
<li>Data center region : 都可以，但西岸的網路比較快，我選 San Francisco</li>
<li>Add SSH Key : 請看網路上的教學文...</li>
<li>Choose a droplet name : 取一個自己懂的名字，像這樣<img src='https://hackpad-attachments.s3.amazonaws.com/g0v.hackpad.com_BlLdzEsImuv_p.67260_1452231798959_undefined'/></li>
<li>開好後， Mac 下請用 ssh 登入，Windows 下可以用 putty 登入主機，開始打一堆指令...orz</li></ol>
<ul class="code"><li>apt-get update</li>
<li>apt-get dist-upgrade -y</li>
<li>apt-get install tor tor-arm</li>
<li>cd</li>
<li>wget <a href="https://gist.githubusercontent.com/miaoski/bf5afdada7bb4c00f873/raw/441009fb02dd4548c136d88b480097d9f010d39a/.screenrc"></a>https://gist.githubusercontent.com/miaoski/bf5afdada7bb4c00f873/raw/441009fb02dd4548c136d88b480097d9f010d39a/.screenrc</li>
<li>screen</li></ul>

<p>建議使用 screen ，一個螢幕看 Tor 的使用量，一個螢幕抓判決，就算斷線也沒關係。</p><p>重新連上的時候 screen -d -r 就可以恢復原先的 session 了。</p><p></p><p>在第 0 個視窗打以下指令:</p><ul class="code"><li>/etc/init.d/tor restart</li>
<li>sudo -u debian-tor arm</li></ul>
<p>按 Ctrl-A Ctrl-C 開新視窗，就可以開始抓判決書。</p><p></p><p></p><p><b>Ruby (雨蒼版)</b></p><p>在第 1 個視窗打以下指令:</p><ul class="code"><li>apt-get install screen ruby ruby-dev ruby-mechanize</li>
<li>wget <a href="https://github.com/miaoski/jrf-data-2010/raw/master/jrf_data.tar.gz"></a>https://github.com/miaoski/jrf-data-2010/raw/master/jrf_data.tar.gz</li>
<li>tar zfx jrf_data.tar.gz</li>
<li>cd jrf_data</li>
<li>./run.sh 2009&nbsp; ← 這個就是你要抓的年份了</li></ul>

<p>看到這樣的畫面，就是有開始抓了</p><p><img src='https://hackpad-attachments.s3.amazonaws.com/g0v.hackpad.com_BlLdzEsImuv_p.67260_1452233976595_undefined'/></p><p></p><p></p><p>PHP (Kiang 版)</p><p>在第1個視窗打以下指令:</p><ul class="code"><li>apt-get install php5-cli php5-curl</li>
<li>mkdir ~/jrf</li>
<li>cd ~/jrf</li>
<li>wget <a href="https://raw.githubusercontent.com/miaoski/jrf-data-2010/master/get_judgements_cache.php"></a>https://raw.githubusercontent.com/<a href='https://raw.githubusercontent.com/kiang/jrf_data/master/get_judgements_cache.php'/>miaoski/jrf-data-2010</a>/master/get_judgements_cache.php</li>
<li>wget <a href="https://raw.githubusercontent.com/kiang/jrf_data/master/courts.json"></a>https://raw.githubusercontent.com/kiang/jrf_data/master/courts.json</li></ul>

<p>執行:</p><ul class="code"><li>php get_judgements_cache.php 2008&nbsp; ← 這個就是你要抓的年份了</li></ul>
<p>看到這樣的畫面，就是有開始抓了</p><p><img src='https://hackpad-attachments.s3.amazonaws.com/g0v.hackpad.com_BlLdzEsImuv_p.67260_1452237217630_undefined'/></p><p></p><p></p><p><b>確認 Tor 的流量</b></p><p>離開前 Ctrl-A 0 確認一下 tor 的流量不要爆 quota ...</p><p><img src='https://hackpad-attachments.s3.amazonaws.com/g0v.hackpad.com_BlLdzEsImuv_p.67260_1452233868185_undefined'/></p><p>嗯，下載 93.4 Kb/sec 應該不會爆一個月 2TB 的限制吧...</p><p></p><p>要離開，直接關掉視窗就可以了，它會在幕後繼續跑。下次再 ssh / putty 上來，打 screen -d -r 就可以接回關掉的視窗。</p><p></p><p></p><p></p><h2>爬完之後的上傳</h2><p>[雨蒼版] 資料都放在 ~/jrf_data/data/judgemets/</p><p><img src='https://hackpad-attachments.s3.amazonaws.com/g0v.hackpad.com_BlLdzEsImuv_p.67260_1452234113765_undefined'/></p><p>打包</p><ul class="code"><li>cd ~/jrf_data/data</li>
<li>tar zfc data-2010.tar.gz judgemets/</li></ul>

<p>[Kiang版] 資料都放在 ~/jrf/cache/2008/01/01/</p><p>打包</p><ul class="code"><li>cd ~/jrf/cache/</li>
<li>tar zfc data-2008.tar.gz 2008/</li></ul>

<p>打包後，請上傳到 Github 或 Dropbox 再分享連結。謝謝！</p><p></p><p></p></body>
</html>
