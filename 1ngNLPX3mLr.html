<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="en-us" />
<meta name="version" content="2607"/>
<style>body {font-family:Helvetica}ul.comment{list-style-image:url('https://hackpad.com/static/img/comment.png');} ul.task{list-style-image:url('https://hackpad.com/static/img/unchecked.png');}ul.taskdone{list-style-image:url('https://hackpad.com/static/img/checked.png');} </style><title>/683$1ngNLPX3mLr</title>
</head>
<body><h1></h1><p><b>g0v tasks queue 整合</b></p><p></p><h2>原始討論：                       </h2><p><b>拋磚人:</b> kcwu</p><p><b>狀態：</b>發想，有興趣想做請直接拿去作</p><p><b>專案簡介</b>: 許多人想幫忙但不知如何下手, 需要簡單的 task. 本專案希望讓各 project 的 easy task 更容易被找到</p><p><b>工作目標</b>:</p><ol><li><a href='https://github.com/g0v/dev/issues/15'/>定義一些 common tag,</a> 譬如 &quot;輸入資料&quot;, &quot;翻譯&quot;, &quot;圖轉文&quot;, &quot;搜尋資料&quot;, &quot;畫圖&quot;, &quot;寫 parser&quot;.</li></ol>
<ul style="list-style: none;"><li><br/><table style="font-size:13px;cell-spacing: 0px; border-collapse: collapse;"><tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">&#33521;&#25991;(tag)</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">&#20013;&#25991;</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">&#38991;&#33394;</td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">datainput</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">translation</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">OCR</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">research</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">drawing</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">parser</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">bitesized</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">&#23567;&#24037;&#20316;</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">doc</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">devops</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
<tr><td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added">promote</td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
<td style="border:1px solid #999; min-width: 50px;height: 22px;line-height: 16px;padding: 0 4px 0 4px;" class="added"></td>
</tr>
</table>
</li></ul>

<ol><li><a href='https://github.com/g0v/dev/issues/16'/>寫一個 script 把 github project 加上這些 tag</a> - 也需要這些 tag 的 github 顯示顏色</li>
<li>寫一個 page 把 project hub 上的 github issue 中有特定 tag 的 task 撈出來<ol><li>猜測應有現成的可以改, 不然也可以自己 call github api</li><ul class="comment"><li>g0v member 可以先在 dashboard 看到 <a href="https://github.cwwom/organizations/g0v/dashboard/issues"><a href='https://github.cwwom/organizations/g0v/dashboard/issues'/>https://github.c</a><a href='https://github.cwwom/organizations/g0v/dashboard/issues'/>ww</a><a href='https://github.cwwom/organizations/g0v/dashboard/issues'/>om/organizations/g0v/dashboard/issues</a></a></li></ul>
</ol>
<ol><li>可以在搭配各 repo 的 language summary 顯示</li></ol>
</li>
<li>推廣給各 project<ol><li>標上 easy tag 的 task, 希望把內容寫清楚一點, 譬如要什麼技能</li></ol>
</li>
<li>在新手的文件上(ex新手村)請他們來認領工作</li></ol>

<p>使用資料: github issue api</p><p></p><h2>hack.g0v.tw 整合</h2><p><b>想法：與「專案列表」頁整合</b></p><p></p><ol><li>Issue List + Tag Cloud 放在專案列表右邊當做一個 widget (section)，見 <a href="https://github.com/g0v/hack.g0v.tw/issues/21"><a href='https://github.com/g0v/hack.g0v.tw/issues/21'/>https://github.com/g0v/hack.g0v.tw/issues/21</a></a><ol><li>可以依據 tag 來&nbsp; filter 要顯示哪些 issues，效果可以跟 hub 右(大半)邊很像。</li>
<li>專案名稱自動變成可以 toggle 的 tags。</li>
<li>github api 應該可以做到所有事情<ol><li>因為都是 public repo，所以無需 authentication 即可用 api 讀取內容</li>
<li>換言之，可以純靠前端 js 拉資料回來，不過要小心有 rate limit，所以拉資料要記得必須 incremental 慢慢增加</li></ol>
<ul style="list-style: none;"><li>看狀況有可能需要弄個後端當 cache</li></ul>
<ul class="comment"><li>Agreed</li>
<li>Cache 可以像其他專案一樣，用 Firebase 來做</li>
<li>Firebase 用量不會超過吧？</li>
<li>或是靠 au 的 ethercalc 也行，哈。</li>
<li>XD cool</li></ul>
</ol>
</ol>
<ol><li>專案列表裡，每個專案裡也可以放一些屬於該專案的坑讓大家直接跳<ol><li>所以要有個 js (jquery) function，註冊要塞 issue 的 dom element (因為需要 incremental)</li>
<li>可以傳入 tags, number of issues 等參數，選擇哪些 issues 會被拉回來</li></ol>
</li>
<li>整個專案列表這一頁的上方，可以有個 dropdown 之類的東西，讓人們選擇自己本身的(能力)屬性<ol><li>這一頁裡許多顯示 issue list 的地方，就可以自動依據 viewer 的屬性，過濾或排序 issues，讓顯示出來的坑更適合跳進去</li></ol>
</li>
<li>可以有個「 I&rsquo;m feeling lucky 」的按鈕，讓系統隨便幫你挑個坑來跳</li>
<li>Question: 該做成 jQuery Plugin 還是 AngularJS controller 呢？</li><ul><li>作成 jQuery Plugin 可方便在其他網站 mash up</li>
<li>做成 Angular JS controller 在 hack.g0v.tw 裡整合比較方便</li></ul>
<ul class="comment"><li>我會先做成 angularjs controller，先整 hack.g0v.tw，東西先出來大家比較好想像怎麼改會更好。再說，要 porting 成 jquery-plugin 版簡單多了，angularjs 好複雜。XDD</li></ul>
</ol>

<p><b>一些 markup</b></p><p>已 push 成新的 branch: <a href='https://github.com/g0v/hack.g0v.tw/tree/issues'/>issues</a></p><p></p><p><u>Widget 的樣子</u></p><p><img src='https://hackpad-attachments.s3.amazonaws.com/hackpad.com_1ngNLPX3mLr_p.56216_1376233226328_Screen Shot 2013-08-11 at 10.57.58 PM.png'/></p><p></p><p><u>Filter 按鈕</u></p><p>瀏覽者可依據自身能力屬性，選擇 filter 條件</p><ul><li>TODO: 瀏覽者的選擇會記憶在 cookie 裡</li></ul>
<p><img src='https://hackpad-attachments.s3.amazonaws.com/hackpad.com_1ngNLPX3mLr_p.56216_1376233265814_Screen Shot 2013-08-11 at 10.58.10 PM.png'/></p><p></p><p><u>專案列表按鈕</u></p><p>列出 firebase 裡註冊進 hack.g0v.tw 並且有 github url 的專案。</p><p>(不只是 mockup 了，已可與 firebase 連動)</p><ul><li>顯示專案(中文)名稱</li>
<li>因為 github repo name 不一定與 firebase 裡註冊的專案名稱相同，所以以 tag 的形式顯示，同時也暗示了 issue 下面的同一顏色的 tag 亦代表了所屬專案。</li>
<li>TODO: 依據選擇改變按鈕文字。</li></ul>
<p><img src='https://hackpad-attachments.s3.amazonaws.com/hackpad.com_1ngNLPX3mLr_p.56216_1376268874808_Screen Shot 2013-08-12 at 8.53.25 AM.png'/></p><p></p><p><a href='/ep/profile/AHlg3ouwI8g'/>Chia-liang Kao</a> 提到 <a href="https://github.com/miau715/eo4">https://github.com/miau715/eo4</a> 有個 full site 的 mock up。</p><p></p><p><u>Task Queue Service</u></p><p></p><ol><li>整個 task queue 應該可以視作一個超大 table，裡面每個 row 是一個 github issue</li>
<li>所有 issues 是 g0v 這個 github organization 於 github 相關專案的 issues 聯集<ol><li>但應該也要可以額外指定其他 repo (not user/org) 加入</li></ol>
</li>
<li>取得內容時，可以指定 filter 與 ordering 當參數。</li>
<li>Filter<ol><li>可以是 issue 的:<ol><li>label (tag)</li>
<li>所屬的 project</li></ol>
</li>
<li><br/></li></ol>
</li>
<li>ordering<ol><li>可以被拿來排序的有：<ol><li>最後更新/回應日期</li>
<li>發 issue 日期</li></ol>
</li>
<li><br/></li></ol>
</ol>
<ul class="comment"><li>用google app script 丟到 google spreadsheet?</li>
<li>不錯的主意，所以可以分成前、後端。後端把資料從 github 拉到 google spreadsheet 裡，前端則由 jquery-plugin/angularjs-controller 從 google spreadsheet 拉資料。</li>
<li>不過目前我只有「單向」的想法：github -&gt; (cache storage) -&gt; library (jquery/angularjs) -&gt; frontend；「雙向」怎麼做還不敢深入去想。</li></ul>

<h2>整理目前 github issue 遇到的問題：</h2><ul><li>Also affect<ul><li>22:40 &lt; hychen&gt; 沒有also affect 這種功能</li>
<li>22:40 &lt; hychen&gt; github上的issue 只有一層, 他沒有辦法做一個bug also affect to multiple projects</li></ul>
<ul class="comment"><li>若有需要，我們可以約定某些特殊格式，寫在 issue body 裡。例如：see:kuansim#16、affects:kuansim。</li>
<li>另一種做法是，約定好 project name 當 tag 時，即代表 bug also affects。這樣剛好跟上面的設計符合，project name 亦是 tag 的一種。</li>
<li>這邊有一些有用的東西，也許可以幫助做跨 project link <a href="https://help.github.com/articles/github-flavored-markdown#references">https://help.github.com/articles/github-flavored-markdown#references</a></li>
<li>看起來不錯，若 github 有規定的 syntax 我們應盡量遵循。</li>
<li><a href="https://github.com/rauhryan/huboard">https://github.com/rauhryan/huboard</a> 這好酷，似乎可以 link 不同 repo 的 issue 到同一個 kanban board 上。但我不是 g0v owner, 剛剛讀 g0v 時，是空的。暫時無法測試效果。</li></ul>
</ul>

<p></p><h2>   TODOs</h2><ul><li>功能補全<ul><li>Github OAuth. (for updating issues)</li>
<li>關注 (users with github account)</li>
<li>回覆「我要做這個」(users with/without github account.)</li>
<li>Filter tag</li>
<li>IndexedDB (不需要每次重新 parse json.) / Or use backend to cache issues.</li>
<li>Move pages into hack.g0v.tw</li>
<li>Fetch issues from backend and store to DB</li></ul>
</li>
<li>前端美化</li>
<li>其他加值功能<ul><li>ircbot 有新的特定 label issue, 發到 irc.</li></ul>
</ul>

<p></p><p></p><h2>   可能會使用的 API:                      </h2><ul><li>取得所有 g0v repository<ul><li>curl<a href='https://api.github.com/orgs/g0v/repos'/> </a><a href="https://api.github.com/orgs/g0v/repos">https://api.github.com/orgs/g0v/repos</a></li></ul>
</li>
<li>取得單一 repository 的 issues<ul><li>curl<a href='https://api.github.com/repos/g0v/hack.g0v.tw/issues'/> </a><a href="https://api.github.com/repos/g0v/hack.g0v.tw/issues">https://api.github.com/repos/g0v/hack.g0v.tw/issues</a><a href='https://api.github.com/repos/g0v/hack.g0v.tw/issues(以'/> </a>(以 hack.g0v.tw 為例)</li></ul>
</li>
<li>API Clients:<ul><li><a href="http://developer.github.com/v3/libraries/">http://developer.github.com/v3/libraries/</a></li></ul>
</li>
<li>註：Github API 限制<ul><li><a href="http://developer.github.com/v3/#rate-limiting">http://developer.github.com/v3/#rate-limiting</a></li>
<li>沒有過 oAuth, 一小時只能打 60 次</li></ul>
</ul>
<ul style="list-style: none;"><li><br/></li></ul>

<h2>   資料呈現:               </h2><ul><li>Prototype demo (純用前端 js 抓 issue 下來): <a href="http://utcr.org/g0v-issue-tracker/">http://utcr.org/g0v-issue-tracker/</a></li><ul class="comment"><li>抱歉因為最新的版本在測 github 的 oauth, 因此會被導到 github 輸入帳號密碼。不是釣魚 XD</li></ul>
</ul>

<h2>   Code (Prototype)</h2><ul><li>純用前端 fetch github API (oAuth supported)<ul><li><a href="https://github.com/youchenlee/g0v-issue-tracker"><a href='https://github.com/youchenlee/g0v-issue-tracker'/>https://github.com/youchenlee/g0v-issue-tracker</a></a></li></ul>
</li>
<li>未來為了有更多應用，應該要用後端抓 issue</li></ul>

<h2>   使用情境:   (暫定)            </h2><ul><li>&nbsp;&nbsp; Scenario 1: User 無 github 帳號，為翻譯人員<ul><li>新手在「如何參與 g0v」頁面，看到 tasks 列表</li>
<li>以 「新手」+「翻譯」做 filter</li>
<li>選定一個 task, 點入查看內容</li>
<li>點選「我要參與」並留言</li>
<li>Update 回 github 的 project issue (? How)<ul><li>以 github&nbsp; bot 回 comment (user 沒 github account)</li></ul>
</ul>
</ul>

<p></p><p></p><p></p><h2>   Reference:</h2><ul><li>Github API: <a href="http://developer.github.com/v3/issues/">http://developer.github.com/v3/issues/</a></li></ul>

<p></p><p></p></body>
</html>
