<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="en-us" />
<meta name="version" content="2277"/>
<style>body {font-family:Helvetica}ul.comment{list-style-image:url('https://hackpad.com/static/img/comment.png');} ul.task{list-style-image:url('https://hackpad.com/static/img/unchecked.png');}ul.taskdone{list-style-image:url('https://hackpad.com/static/img/checked.png');} </style><title>/683$GTzs0q6jKyQ</title>
</head>
<body><h1>千影(chikage) - HTML5 GlyphWiki Editor</h1><p></p><h2>專案簡介</h2><p></p><p><b>緣由</b></p><ul style="list-style: none;"><li>GlyphWiki.org 目前39萬個中文字型，是花園字型(Hanazono Font) 的底層資料庫，唯其字型是採用日本規範。</li>
<li><br/></li>
<li>基於 Glyphwiki 現有的龐大部件庫(光一個木字就有數十種變體)，以及Kage 字形產生引擎，打造一個符合台灣字形規範的群眾造字/調字平台。</li></ul>

<p><b>要解決的問題</b></p><ul style="list-style: none;"><li>一）動態組字 (從IDS產生字形) 的美觀度問題。</li>
<li>二）GlyphWiki 提供的編輯器是以Flash開發，改為HTML5 之後可在更多平台使用。</li>
<li>三）缺字IDS及組字資料交換平台，讓各種字典辭書的缺字有統一的交換碼。</li></ul>

<p><b>預定使用者</b></p><ul style="list-style: none;"><li>一）古文字、古文獻相關研究。（e.g. 合文、減字譜）</li>
<li>二）字形設計者</li>
<li>三）CJK電子書編輯者</li>
<li>四）需要造新字表達新概念的場合。(如新的化學元素)</li></ul>

<p><b>可能的延伸功能</b></p><p></p><undefined><li>蒐集未收錄到Unicode裡的字</li></undefined>
<ul><li>哪些字被造出來</li>
<li>出自何處</li>
<li>整理後可以提交Unicode Consortium/ISO IEC JTC1 SC2...IRG</li></ul>

<undefined><li><b>整理成IVD</b></li></undefined>
<p>即Unicode Consortium的異體字資料庫，現在都是日文有註冊，中文只有香港要提出港台用字不同的異體字庫。台灣目前好像還沒有要做這件事的計劃。</p><p></p><p><b>預定功能</b></p><p>（成品要有哪些功能來滿足上述使用情境）</p><p></p><p><b>現有類似專案</b></p><ul><li>GlyphWiki 的 <a href='http://glyphwiki.org/wiki/u840c?action=edit'/>Flash 編輯器</a></li>
<li>Prior art: 丞宏的 <a href='https://github.com/sih4sing5hong5/han3_ji7_tsoo1_kian3'/>han3_ji7_tsoo1_kian3</a> （漢字組建專案）</li>
<li><a href='http://sourceforge.net/projects/gwdrawfonttool/#screenshots'/>GlyphWiki Drawfont Tool</a></li>
<li><a href='http://bbs.themex.net/showthread.php?t=16879740'/>極限社區 - KAGE 服務器做好了</a></li>
<li><a href='http://blog.yam.com/ebag/article/60218630'/>漢文博士</a> (無造字功能，字形metadata很完整)</li></ul>

<p><b>相關專案</b></p><ul><li><a href='http://glyphwiki.org/'/>GlyphWiki</a></li>
<li><a href='http://fonts.jp/engine/'/>KAGE/engine</a> GlyphWiki 使用的組字引擎<ul><li><a href='http://www.kanji.zinbun.kyoto-u.ac.jp/projects/chise/'/>CHISE project</a></li></ul>
<ul style="list-style: none;"><li>最下面有 git 位址，要使用 kage 可以下`git clone <a href="http://git.chise.org/git/chise/kage.git"></a><a href='http://git.chise.org/git/chise/kage.git'/>http://git.chise.org/git/chise/kage.git</a>`</li></ul>
</ul>
<ul><li><a href='http://ja.wikipedia.org/wiki/%E8%8A%B1%E5%9C%92%E3%83%95%E3%82%A9%E3%83%B3%E3%83%88'/>花園フォント</a></li>
<li><a href='https://github.com/g0v/idskage'/>idskage</a> Generate Kage glyph format from IDS</li>
<li><a href='https://github.com/g0v/kage.json'/>kage.json</a> 將 KAGE system 的檔案格式轉換成 JSON ，方便 HTML5 工具使用</li>
<li><a href='http://www.mebag.com/'/>篆刻網</a> 站主曾向上地宏一先生當面請益缺字處理的相關問題，這是他的 <a href='http://blog.yam.com/ebag/article/88606293'/>blog</a> 。</li></ul>

<p><b>參考資料</b></p><ul><li><a href='https://github.com/kawabata/glyphwiki-afdko'/>GlyphWiki AFDKO Font Generator</a> 介紹 KAGE system</li>
<li><a href='http://fonts.jp/kamichi/1112hk.pdf'/>GlyphWiki: Shareable Glyph Database System for Chinese Characters</a></li></ul>
<ul style="list-style: none;"><li>投影片第七頁解釋了筆畫格式，第九頁解釋了組件格式。</li></ul>
<ul><li><a href='http://www.atypi.org/type-typography/glyphwiki-a-wiki-based-glyph-design-and-font-production-system.-taichi-kawabata-and-kamichi-koichi'/>GlyphWiki and OpenType: A Collaborative Glyph Development Environment and its Font Exporting System</a></li></ul>
<ul style="list-style: none;"><li>第四頁解釋了 name rules 。</li></ul>
<ul><li><a href='https://ethercalc.org/koktai-ids'/>台語字典缺字列表</a></li></ul>

<p><b>資源與授權方式</b></p><ul><li>GlyphWiki 有自己的<a href='http://glyphwiki.org/wiki/GlyphWiki:License'/>授權</a>。</li>
<li>KAGE/engine 是 <a href='http://git.chise.org/gitweb/?p=chise/kage.git;a=blob_plain;f=engine/COPYING;hb=HEAD'/>GPL</a> 。</li>
<li><a href='https://github.com/g0v/kage.json'/>kage.json</a> 是 <a href='https://creativecommons.org/publicdomain/zero/1.0/'/>CC0-1.0</a> 。</li></ul>

<p><b>專案目前狀態</b></p><ul class="taskdone"><li>kage =&gt; JSON: <a href='https://github.com/g0v/kage.json'/>kage.json</a></li></ul>
<ul class="task"><li>JSON =&gt; kage</li></ul>
<ul class="taskdone"><li>API server</li></ul>
<ul class="task"><li>HTML5 editor</li></ul>
<undefined><li><br/></li></undefined>
<p><b>利益揭露</b></p><p>提供造字服務的公司。</p><p></p><h2>徵求協作者</h2><p></p><p>發起人/拋磚人：</p><ul class="task"><li>NeedsWritingSystemExperts: 需要文字學家，或對異體字有研究的人</li>
<li>NeedsDesigner: 需要介面設計<ul class="task"><li>Glyph Editor</li>
<li>Website</li></ul class="task">
</li>
<li>NeedsData: 需要資料（擷取、清理）<ul class="task"><li>KAGE &lt;=&gt; JSON</li></ul class="task">
</li>
<li>NeedsTech: 需要技術支援（程式、架站 etc)</li><ul class="taskdone"><li>API server</li></ul>
<ul class="task"><li>把資料放在 firebase 等服務上的可能性</li></ul class="task">
</li>
<li>NeedsProcess: 需要幫忙設計作業流程<ul class="task"><li>dump.tar.gz =&gt; KAGE =&gt; JSON</li></ul class="task">
</li>
<li>NeedsTalkingToRealPerson: 需要有人幫忙和其他機關聯絡</li></ul>
<ul class="taskdone"><li>連絡陳信良先生，詢問改良意見 (曾在Glyphwiki editor 造過數千字)</li></ul>

<p></p><h2>實作細節（非技術背景可跳填）</h2><p></p><p><b>協作工具</b></p><ul><li>github repo：<a href="https://github.com/g0v/chikage"></a>https://github.com/g0v/chikage</li>
<li>hackfoldr 工作資料夾網址：</li>
<li>google drive 共用資料夾網址：</li></ul>

<p><b>進度與 to-do</b></p><ul class="task"><li>product planning（recommanded procedure from justin lee / 李易修）<ul class="task"><li>strategy</li>
<li>scope</li>
<li>structure</li>
<li>wireframe</li>
<li>visual</li></ul class="task">
</li>
<li>web front-end</li>
<li>web back-end</li>
<li>ui / visual design</li></ul>

<p><b>GlyphWiki&nbsp; Editor 功能簡介</b></p><p><a href="http://glyphwiki.org/wiki/GlyphWiki:GlyphDesignMethod"></a>http://glyphwiki.org/wiki/GlyphWiki:GlyphDesignMethod 官方英文簡介</p><p></p><p><a href="http://glyphwiki.org/wiki/u65e5?action=edit"></a>http://glyphwiki.org/wiki/u65e5?action=edit 末級部件&nbsp; 點 「専用エディタで編集する」</p><p>進入後點英文介面。</p><p>筆劃編輯：</p><ul style="list-style: none;"><li>點一個筆劃(日第一豎筆)，可以選筆劃類別：(straight line, curve, bend line ,etc)</li>
<li>每種筆劃有不同的head 和 tail 可選。</li>
<li>head/tail 設定決定了筆劃的修飾(起筆、收筆)以及和其他筆劃的連繫。</li></ul>
<p>字框編輯：</p><ul style="list-style: none;"><li><a href="http://glyphwiki.org/wiki/u840c?action=edit"></a><a href='http://glyphwiki.org/wiki/u840c?action=edit'/>http://glyphwiki.org/wiki/u840c?action=edit</a>&nbsp; 複合部件 點 「専用エディタで編集する」</li></ul>

<p>其他功能</p><p>按 Freedraw 可以用手繪方式寫字，系統會自動產生合適的筆劃。</p><ul style="list-style: none;"><li>實作：應該是用 <a href='https://www.google.com.tw/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0CB4QFjAA&amp;url=http%3A%2F%2Fpaperjs.org%2Fexamples%2Fpath-simplification%2F&amp;ei=5OoxVZaNIYOj8AXhmoCIBA&amp;usg=AFQjCNGLt8Q24Os_ZKsAMxOFbpiThG3DcA&amp;sig2=269BsFjgCkfTo6mb_cdjVQ'/>Path Simplification </a>，先把輸入的很多點轉成2~4個控制點。再找出最可能的筆劃。</li></ul>

<p><b>技術規劃</b></p><p>前端：</p><p></p><ul style="list-style: none;"><li><a href='http://fonts.jp/engine/'/>KAGE/engine</a> 已經實作了輸出 SVG 的工具， 剎那工坊的<a href='https://github.com/ksanaforge/kzy'/> kzy 專案</a>藉此完成了字型繪製。</li></ul>

<ul style="list-style: none;"><li>以React撰寫，筆劃新增刪除、類型選取、移動控制點、字框調整、鄰近字選取等介面。將編輯中的字形，交由Kage 產生，繪製到 一個透明底的overlay SVG layer。SVG layer 純顯示編輯結果，不處理事件。</li></ul>

<ul style="list-style: none;"><li>此編輯器必須很容易嵌入，在任何網頁或Web base App看到不夠漂亮的組字時，點一下即可開始編修，結果送回伺服器。</li></ul>

<p>後端：</p><ul style="list-style: none;"><li>glyphid 每筆組字資訊的唯一代碼</li>
<li><br/></li>
<li>API ：<ul style="list-style: none;"><li>1)以Unicode, IDS取得組字資訊，供Kage 於client side 組字。</li>
<li>2)以Unicode取得所有glyphid (如「木」，取得「木-01」「木-02」。</li>
<li>3) 以Unicode 取得 IDS (中研院or CHISE or other)</li>
<li>4)以glyphid取得所有使用它的glyphid。例：「木-01」得「杉」「木-02」得「李」 (豎木旁和李字的木豎筆較短)</li>
<li>4)寫入調整組字資訊。glyphid and glyphdata</li>
<li>6)取得組字編修記錄。(contributor)</li>
<li>7)以Unicode, IDS 取得的應用例(如古書某一頁)。</li>
<li><br/></li></ul style="list-style: none;">
</li>
<li>目前有兩個可能的方向，一是在 server 展開所有的 link （99 開頭的部件），成末級部件，編輯器只要 request 一次就好。或者在編輯器 pipeline request ，減少 request 次數，例如 `<a href="https://server/glyph/?json"></a><a href='https://server/glyph/?json'/>https://server/glyph/?json</a>[]=u8279-03&amp;json[]=u660e` 。</li>
<li><br/></li>
<li>database engine: 未決定。(Redis ? LY 則建議 <a href="http://www.rethinkdb.com/"></a>http://www.rethinkdb.com/ )</li>
<li>目前已經用 redis 先弄了一個：<a href="https://github.com/g0v/kage.json/commit/4c3a8f064497e9f325f955267bfd62b88b161283"></a>https://github.com/g0v/kage.json/commit/4c3a8f064497e9f325f955267bfd62b88b161283</li></ul>

<p><b>線條種類與頭尾形狀</b></p><ul><li>stroke types<ul><li>straight line 2pts, 1<ul><li>free, 0<ul><li>free 1:0:0</li>
<li>connect(h) 1:0:2</li>
<li>connect(v) 1:0:32</li>
<li>L-btm corner 1:0:13</li>
<li>R-btm corner 1:0:23</li>
<li>slash left 1:0:4</li>
<li>L-btm(G/T) 1:0:313</li></ul>
</li>
<li>connect(h), 2<ul><li>free 1:2:0</li>
<li>connect(h) 1:2:2</li>
<li>connect(v) 1:2:32 illegal</li>
<li>L-btm corner 1:2:13 illegal</li>
<li>R-btm corner 1:2:32 illegal</li>
<li>slash left 1:2:4 illegal</li>
<li>L-btm(G/T) 1:2:313 illegal</li></ul>
</li>
<li>connect(v)<ul><li>free 1:32:0</li>
<li>connect(h) 1:32:2 illegal</li>
<li>connect(v) 1:32:32</li>
<li>L-btm corner 1:32:13</li>
<li>R-btm corner 1:32:23</li>
<li>slash left 1:32:4</li>
<li>L-btm(G/T) 1:32:313</li></ul>
</li>
<li>L-top corner, 12<ul><li>free 1:12:0</li>
<li>connect(h) 1:12:2 illegal</li>
<li>connect(v) 1:12:32</li>
<li>L-btm corner 1:12:13</li>
<li>R-btm corner 1:12:23</li>
<li>slash left 1:12:4 illegal</li>
<li>L-btm(G/T) 1:12:313</li></ul>
</li>
<li>R-top corner<ul><li>free 1:22:0</li>
<li>connect(h) 1:22:2 illegal</li>
<li>connect(v) 1:22:32</li>
<li>L-btm corner 1:22:13</li>
<li>R-btm corner 1:22:23</li>
<li>slash left 1:22:4</li>
<li>L-btm(G/T) 1:22:313</li></ul>
</li></ul>
</li>
<li>curve 3pts, 2<ul><li>free<ul><li>slash left 2:0:7</li>
<li>slash right 2:0:0 illegal</li>
<li>stop for dot 2:0:8 illegal</li>
<li>hook left 2:0:4 illegal</li>
<li>hook right 2:0:5</li></ul>
</li>
<li>connect, 32<ul><li>slash left 2:32:7</li>
<li>slash right 2:32:0 illegal</li>
<li>stop for dot 2:32:8 illegal</li>
<li>hook left 2:32:4</li>
<li>hook right 2:32:5</li></ul>
</li>
<li>L-top corner, 12<ul><li>slash left 2:12:7</li>
<li>slash right 2:12:0 illegal</li>
<li>stop for dot 2:12:8 illegal</li>
<li>hook left 2:12:4 illegal</li>
<li>hook right 2:12:5 illegal</li></ul>
</li>
<li>R-top corner, 22<ul><li>slash left 2:22:7</li>
<li>slash right 2:22:0 illegal</li>
<li>stop for dot 2:22:8 illegal</li>
<li>hook left 2:22:4</li>
<li>hook right 2:22:5</li></ul>
</li>
<li>narrow for dot, 7<ul><li>slash left 2:7:7 illegal</li>
<li>slash right 2:7:0</li>
<li>stop for dot 2:7:8</li>
<li>hook left 2:7:4</li>
<li>hook right 2:7:5 illegal</li></ul>
</li></ul>
</li>
<li>bend line 3pts, 3<ul><li>free, 0<ul><li>free 3:0:0</li>
<li>hook up 3:0:5</li></ul>
</li>
<li>connect(v), 32<ul><li>free 3:32:0</li>
<li>hook up 3:32:5</li></ul>
</li>
<li>L-top corner, 12<ul><li>free 3:12:0</li>
<li>hook up 3:12:5</li></ul>
</li>
<li>R-top corner, 22<ul><li>free 3:22:0 illegal</li>
<li>hook up 3:22:5</li></ul>
</li></ul>
</li>
<li>OTSU curve 3pts<ul><li>free, 0<ul><li>free 4:0:0</li>
<li>hook up 4:0:5</li></ul>
</li>
<li>R-top corner, 22<ul><li>free 4:22:0</li>
<li>hook up 4:22:5</li></ul>
</li></ul>
</li>
<li>complex curve 4pts, 6<ul><li>free, 0<ul><li>slash left 6:0:7 illegal</li>
<li>slash right 6:0:0 illegal</li>
<li>stop for dot 6:0:8 illegal</li>
<li>hook left 6:0:4 illegal</li>
<li>hook right 6:0:5</li></ul>
</li>
<li>connect, 32<ul><li>slash left 6:32:7</li>
<li>slash right 6:32:0 illegal</li>
<li>stop for dot 6:32:8 illegal</li>
<li>hook left 6:32:4</li>
<li>hook right 6:32:5</li></ul>
</li>
<li>L-top corner, 12<ul><li>slash left 6:12:7</li>
<li>slash right 6:12:0 illegal</li>
<li>stop for dot 6:12:8 illegal</li>
<li>hook left 6:12:4 illegal</li>
<li>hook right 6:12:5 illegal</li></ul>
</li>
<li>R-top corner, 22<ul><li>slash left 6:22:7</li>
<li>slash right 6:22:0 illegal</li>
<li>stop for dot 6:22:8 illegal</li>
<li>hook left 6:22:4</li>
<li>hook right 6:22:5</li></ul>
</li>
<li>narrow for dot, 7<ul><li>slash left 6:7:7 illegal</li>
<li>slash right 6:7:0</li>
<li>stop for dot 6:7:8</li>
<li>hook left 6:7:4</li>
<li>hook right 6:7:5 illegal</li></ul>
</li></ul>
</li>
<li>vert slash 4pts, 7<ul><li>free, 0<ul><li>slash left 7:0:7</li></ul>
</li>
<li>connect, 32<ul><li>slash left 7:32:7</li></ul>
</li>
<li>L-top corner, 12<ul><li>slash left 7:12:7</li></ul>
</li>
<li>R-top corner, 22<ul><li>slash left 7:22:7 illegal</li></ul>
</ul>
</ul>
</ul>

<h2>成果展示（規劃文件、雛形/草稿、原型/初稿、正式發佈/完稿）</h2><p></p><p></p><p></p><p></p><p></p></body>
</html>
